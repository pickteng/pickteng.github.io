---
title: 数组坍塌
type: article
tag: 数组坍塌
abbrlink: 3746433508
date: 2020-04-05 00:00:00
---


当数组删除单元操作时，被删除单元之后的单元，会前移，进而顶替被删除单元，出现在被删除单元的位置上，造成数组长度减少的情况，这样的现象称为数组坍塌。
## 正常情况
![数组坍塌](20200405185418787.png)
```yaml
// 正常情况
for(var i=0;i<=arr.length-1;i++){}
```
## 数组坍塌情况
![数组坍塌](20200405190549836.png)
![在这里插入图片描述](20200405190605908.png)
例如：我们要删除第三个位置
```yaml
// 数组坍塌情况
for(var i=0;i<=arr.length-1;i++){
	// 当i为2的时候，删除数组单元
	if(i==2){
		arr.splice(i,1)
	}
}
```
但是因为删除了i为2时候的数组单元，后面原来下标为3的数组单元顶替了下标为2的数组单元，称为了下标为2的数组单元，这样就造成了，图片中小红没有被操作过，正常情况下所有的数组单元都会被操作
## 解决方案
```yaml
// 数组坍塌解决
for(var i=0;i<=arr.length-1;i++){
	// 当i为2的时候，删除数组单元
	// 当删除原先的数组单元后，执行i--操作，这样就能操作图片中的小红的数组单元
	if(i==2){
		arr.splice(i,1)
		i--
	}
}
```

